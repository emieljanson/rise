<!doctype html>
<html lang="en">
<head>
  <title>Rise Calendar</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="shortcut icon" href="img/favicon.ico">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@risecal">
  <meta name="twitter:creator" content="@risecal">
  <meta name="twitter:title" content="Rise">
  <meta name="twitter:description" content="We're building a calendar that gives you clarity, direction and peace of mind.">
  <meta name="twitter:image" content="https://risecalendar.com/img/twittercard.jpg">

  <script async defer data-domain="risecalendar.com" src="https://plausible.io/js/plausible.js"></script>
</head>

<body>
  <div class="wrapper">
    <div id="cta">
      <div id="subscribe">
        <h4 class="tagline">Stay in the loop</h4>
        <h2>Want to be the first to hear news about Rise?</h2>
        <div id="formshadowcontainer">
          <form name="subscribe" method="POST" data-netlify="true" id="subscribeform">
            <input type="email" name="email" placeholder="Email address" required />
            <button type="submit">Send</button>
          </form>
        </div>
      </div>

      <div id="success">
        <h4 class="tagline">Thank you</h4>
        <h2>Great, you're on the list.</h2>
        <p>You'll be among the first to know when you can get your hands on Rise. Until then, follow our journey <a href="http://www.twitter.com/risecal" target="_blank">on Twitter</a>.</p>
      </div>

    </div>
</body>

<script type="text/javascript">
  const handleSubmit = (e) => {
    e.preventDefault();
    let myForm = document.getElementById('subscribeform');
    let formData = new FormData(myForm);
    fetch('/', {
      method: 'POST',
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: new URLSearchParams(formData).toString()
    })
    .then(() => {
      document.getElementById('subscribe').style.display = 'none';
      document.getElementById('success').style.display = 'block';
    })
    .catch((error) =>
      alert('Yikes, something went wrong. Please try again or reach out to @risecal on Twitter')
    )
  }

  document.getElementById('subscribeform').addEventListener("submit", handleSubmit);
</script>
</html>
